{% extends 'webAdminRadio/base_site.html' %}
{% load static from staticfiles %}
{% block page_style %}
<link rel="stylesheet" type="text/css" href="{% static 'webAdminRadio/css/agregar_segmento.css' %}">
{% endblock %}
{% block content %}
    <form id="addEncuesta" onsubmit="return validate()" action="{% url 'webadminradio:agregar_encuesta' %}" method="POST">
        {% csrf_token %}
        <!-- Selección de emisora y segmento-->
        <h5><b>Seleccion de Emisora</b></h5>
        <div class="form-group">
            <label for="emisoraSelect" class="col-sm-1"><b>Emisora</b></label>
            <select id="emisoraSelect" class="custom-select form-control col-sm-4" name="emisora" oninvalid="this.setCustomValidity('Ingrese una emisora válida')" required oninput="this.setCustomValidity('')">
                <option selected disabled>Elja una emisora</option>
                {% for emisora in emisoras %}
                    <option value="{{ emisora.id }}">{{ emisora.nombre }}</option>
                {% endfor %}
            </select>
        </div>
        <div class="form-group">
            <label for="segmentoSelect" class="col-sm-1"><b>Segmento</b></label>
            <select id="segmentoSelect" class="custom-select form-control col-sm-4" name="segmento" oninvalid="this.setCustomValidity('Ingrese una emisora válida')" required oninput="this.setCustomValidity('')"></select>
        </div>
        <hr>
        <!-- Información de la encuesta -->
        <h5><b>Informacion de la encuesta</b></h5>
        <div class="form-group">
            <label id="titulo">Título</label>
            <input id="titulo" name="titulo" class="form-control col-sm-11" type="text" oninvalid="this.setCustomValidity('Ingrese un título de la encuesta')" oninput="this.setCustomValidity('')" required> 
        </div>
        <div class="form-group">
            <label id="descripcion">Descripción</label>
            <textarea class="form-control" id="descripcion" name="descripcion" row="3" placeholder="Descripción de la encuesta" oninvalid="this.setCustomValidity=('Ingrese una descipción válida para la encuesta')" oninput="this.setCustomValidity('')" maxlength="250" required></textarea>
        </div>
        <hr>
        <h5><b>Preguntas</b></h5>
        <div class="form-group">
            <div id="componente_pregunta">
                <pregunta></pregunta>
            </div>
        </div>
        <div class="form-group">
            <div id="componente_pregunta">
                <pregunta></pregunta>
            </div>
        </div>
    </form>
{% endblock %}
{% block page_script %}
    <script src="{% static 'webAdminRadio/js/componentes/Pregunta.js' %}"></script>
    <script type="text/javascript" src="{% static 'webAdminRadio/js/select_em_seg.js' %}"></script>
{% endblock %}